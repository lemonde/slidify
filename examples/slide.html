<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Slidify Examples - Fade</title>

  <link type="text/css" rel="stylesheet" href="assets/css/slide.css">
  <script data-main="assets/js/main" src="../components/requirejs/require.js"></script>

</head>
<body>

<div class="page">

  <section class="diaporama">

    <h1>Sunset</h1>

    <div class="wrapper">

      <ul class="slider">
        <!-- Only one picture in DOM, all others will be added by Slidify -->
        <li><img src="medias/sunset/1.jpg" width="800" height="534"></li>
      </ul>
      <a class="button previous"><span><i>&laquo;</i></span></a>
      <a class="button next"><span><i>&raquo;</i></span></a>

    </div>

    <div class="controls">
      <span class="button diminuer"></span>
    </div>

  </section>

</div>

<script>
require(["slidify"], function (slidify) {

  // All slides, included the one already in DOM
  var data = [
    '<li><img src="medias/sunset/1.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/2.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/3.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/4.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/5.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/6.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/7.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/8.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/9.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/10.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/11.jpg" width="800" height="534"></li>',
    '<li><img src="medias/sunset/12.jpg" width="800" height="534"></li>'
  ]

  var slider = new slidify({
    data: data,
    loop: true,
    depth: 2,
    el: $('.slider')
  });

  slider.init();

  // Manually add prev & next actions before implementing plugins
  $('.button.previous').on('click', function () {
    $('.slider')
    .css('-webkit-transition', 'left 1s ease-in')
    .addClass('left')
    .one('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function (event) {
      if (event.originalEvent.propertyName !== 'left') {
        return ;
      }

      slider.previous();

      $(this)
      .css('-webkit-transition', 'none')
      .removeClass('left');
    });
  })

  $('.button.next').on('click', function () {
    $('.slider')
    .css('-webkit-transition', 'left 1s ease-in')
    .addClass('right')
    .one('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function (event) {
      if (event.originalEvent.propertyName !== 'left') {
        return ;
      }

      slider.next();

      $(this)
      .css('-webkit-transition', 'none')
      .removeClass('right');
    });
  });

});
</script>

</body>
</html>